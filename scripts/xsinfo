#!/usr/bin/env python3

from  Cinema.Prompt.compoundModel import CompoundModel
import numpy as np
import matplotlib.pyplot as plt
import argparse
from Cinema.Interface import plotStyle

plotStyle()

parser = argparse.ArgumentParser()

parser.add_argument('cfg', metavar='N', type=str, nargs='+', help='Prompt materil config')

parser.add_argument('-e', '--energy', action='store', type=float, default=1.,
                    dest='energy', help='incident kinetic energy')


args=parser.parse_args()

ekin = np.logspace(-5, np.log10(20e6), 1000)

for cfg in args.cfg:
    comp = CompoundModel(cfg)
    xs = np.zeros_like(ekin)
    for i in range(ekin.size):
        xs[i] = comp.xs(ekin[i])


    
    np.save('xs', xs)
    plt.loglog(ekin, xs, label=cfg)
    
plt.legend(loc=0)
plt.grid('both')
plt.show()