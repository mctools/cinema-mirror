{% set version = "1.0.1" %}


package:
  name: cinema
  version: {{ version }}

source:
  # git_url: https://gitlab.com/xxcai1/cinema.git
  # git_rev: 1.0.0
  # git_depth: 1 # (Defaults to -1/not shallow)
  path: ../../../

build:
  # noarch: generic
  skip: 
  number: 0
  # script: python -m pip install --no-deps --ignore-installed .

channel:
  - conda-forge

requirements:
  build:
    - git
    - cmake
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - python                                 # [build_platform != target_platform]
    - cross-python_{{ target_platform }}     # [build_platform != target_platform]
    - cython                                # [build_platform != target_platform]
    - numpy                                 # [build_platform != target_platform]
  host:
    - python
    - pip
    - python-devtools
    - hdf5 ==1.12.2
    - fftw
    - zlib
    - icu
  run:
    - openmpi
    - mpi4py
    - h5py
    - scipy
    - mcpl
    - python
    - pyvista
    - matplotlib

test:
  imports:
    - Cinema

about:
  home: https://gitlab.com/cinema-developers/prompt.git
  license: Apache License, Version 2.0
  summary: 'China Spallation Neutron Source Monte Carlo System'
  description: China Spallation Neutron Source Monte Carlo System.